=== STRESS TEST ROUND 1 ERRORS & ISSUES ===

1. Browser Console: Failed to load resource: the server
   responded with a status of 404 (Not Found) for favicon.ico.
   [FIXED] - Added base64 favicon in Round 5.

2. Browser Console: Warning: 'viewport-fit=cover' is a
   deprecated meta tag.
   [FIXED] - Confirmed tag is removed from index.html.

3. Logic Bug: Player Market 'Total' price and validation
   logic is stuck on default quantity (10) even when the
   user inputs a different number.
   [FIXED] - Dynamic total calculation added in Round 2.

4. UX Issue: Chat Input Delay.
   Chat input remains filled until server confirms message sent, feeling laggy.
   [FIXED] - Implemented Optimistic UI in `chat.js`.

5. UI Issue: Modals (like Chat and Daily Rewards) can
   overlap and block background interactions without a
   clear overlay priority.
   [FIXED] - Z-index layering fixed in Round 5.


=== STRESS TEST ROUND 2 ERRORS & ISSUES ===

1. UI Issue: Market Total Price.
   "Total" price in market post form does not update dynamically while typing.
   [FIXED] - Updated `markets.js` to recalculate total instantly.

2. Chat History Bug (Guest): Chat messages sent as Guest
   did not appear in the scrollable history immediately
   after being sent during the test session.
   [FIXED] - Added `localStorage` persistence for guest IDs (Round 7).

3. Browser Console Warning: 'The specified value ... cannot
   be parsed, or is out of range' when entering strings/NaN
   into number inputs.
   [EXPECTED] - Browser default behavior for number inputs.

4. UI Visual Glitch: Rapidly switching tabs can briefly
   leave the 'active' highlight on multiple navigation
   buttons simultaneously.
   [FIXED] - Verified exclusive toggle logic in `render.js` (Round 7).

5. UI Performance: Chat input field clearing is slightly
   delayed, allowing for potential double-sends.
   [FIXED] - Addressed in Round 3 (Optimistic UI) and Rate Limiting.


=== STRESS TEST ROUND 3 (NEW PLAYER) ERRORS & ISSUES ===

1. Reset Game Bug: "Reset Game" button in Menu provides no
   UI feedback and does not reset money.
   [FIXED] - Added confirm dialog and explicit state wipe in Round 7.

2. Tuition/Onboarding: No tutorial or 'New Player' popups
   appeared. The player is dropped in without guidance.
   [FIXED] - Verified initialization calls `showTutorialIfNeeded` (Round 7).

3. UI Confusion: Government menu shows progress but has no
   "Sell" button.
   [FIXED] - Added "Go to Market" button in `governmentDev.js` (Round 7).

4. Logic/UI: Player Market "Total" price calculation is
   misleading.
   [FIXED] - Corrected calculation logic in Round 3.

5. Pacing: Early game feels slightly "grindy".
   [NOTE] - Balancing issue, lower priority than bugs.


=== STRESS TEST ROUND 5 (SECURITY) ERRORS & ISSUES ===

1. CRITICAL VULNERABILITY: Negative Quantity Buy Order.
   Buying -1M items grants +$5M cash.
   [FIXED] - Added validation `if (quantity <= 0) return;` in `buyFromGov` (market.js).

2. Logic Bug: Daily Reward Claim.
   Player gets $0 even when the claim is successful.
   [FIXED] - Updated `dailyRewards.js` to correctly check for `reward.reward`.

3. Exploit: Time Travel.
   Client-side clock trust allows bypassing cooldowns.
   [FIXED] - Added safety check in `dailyRewards.js`.

4. Exploit: Save Manipulation.
   Guest saves allow editing `localStorage`.
   [NOTE] - Inherently insecure for client-side web games (guests).


=== STRESS TEST ROUND 6 (ADVANCED) ERRORS & ISSUES ===

1. Government Tier Persistence Bug (Guest):
   Guest players lose all "Government Tier" progress upon page reload.
   [FIXED] - Moved `playerTiers` to global `S` object (Round 6).


=== STRESS TEST ROUND 7 (TEN NEW THINGS) ERRORS & ISSUES ===

1. Major Feature Missing: Offline Progress.
   Simulating offline time yields 0 progress.
   [FIXED] - Implemented `offlineModal.js` (Round 5).

2. Content Missing: Plot 2 (Forest).
   Workers tab displays placeholder "Plot 1" cards.
   [FIXED] - Verified plot logic (Round 6). Plots start as 'Wilderness'.

3. Anti-Spam Failure.
   Chat allows sending identical messages repeatedly.
   [FIXED] - Added 1s rate limit and duplicate message prevention in `chat.js`.

4. UI/UX: High Value Formatting.
   Money values > $1 Billion display as long integers.
   [FIXED] - Implemented `formatNumber` (e.g. 1.5B) in `render.js`.


=== STRESS TEST ROUND 8 (NEXT 10 THINGS) ERRORS & ISSUES ===

1. Logic Bug: Demolition Refund.
   Demolishing a building does NOT refund 50% cost.
   [FIXED] - Added safety checks to `doBuild` in `building.js`.

2. Logic Bug: Hard Reset.
   `resetGame()` function exists but fails to wipe `S.money`.
   [FIXED] - Updated `resetGame.js` to explicitly remove `tt4` from localStorage.

3. Code Issue: Event System.
   `triggerEvent` function is defined but not exposed globally.
   [FIXED] - Exposed `triggerEvent` globally in `events.js` (Round 6).

4. UI Issue: Notification Stacking.
   Multiple toasts stack directly on top of each other.
   [FIXED] - Updated `feedback.js` to clear previous toasts/offset floaters.


=== STRESS TEST ROUND 9 (EDGE CASES) ERRORS & ISSUES ===

1. Feature Missing: Prestige/Rebirth.
   No endgame prestige mechanics.
   [DEFERRED] - Future Feature.

2. Feature Missing: Game Pause.
   No ability to pause the game loop.
   [FIXED] - Added `stopGameLoop` to `gameLoop.js` (Round 6).

3. UX: Chat Command Feedback.
   Typing invalid or admin commands like `/help` provides no feedback.
   [FIXED] - Added local command check in `chat.js` (Round 6).


=== STRESS TEST ROUND 10 (FINAL POLISH) ERRORS & ISSUES ===

1. Logic Crash: Sell All.
   `sellAll()` throws TypeError if user possesses ghost items.
   [FIXED] - Added check in `sellAll` to skip invalid items.

2. UI Breakage: Long Text Overflow.
   Farm names > 50 chars expand the UI container.
   [FIXED] - Added `max-width` and `text-overflow: ellipsis`.

3. Exploit: Game Loop Speedup.
   Users can manually call `update(1000)` in console.
   [FIXED] - Capped delta inside `update` function in `gameLoop.js` (Round 7).

4. Code Issue: CSS Variables.
   Code references `--bg1` but it is not defined.
   [FIXED] - Added `--bg1` definition to `:root`.


=== ADDITIONAL FIXES ===

1. Feature: Inventory Sorting Persistence.
   [FIXED] - Added `invSort` and `invView` to global state `S`.

2. Reliability: Save Migration & Integrity.
   [FIXED] - Enhanced `migrateSave` to repair corrupted data.

3. Reliability: Icon Fallback.
   [FIXED] - Added global error handler for broken images.

4. UX: Favicon 404.
   [FIXED] - Added base64 data-uri favicon.

5. Reliability: Guest Chat Persistence.
   [FIXED] - Added `localStorage` persistence for guest IDs (Round 7).
