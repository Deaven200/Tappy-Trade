# Tappy Trade - UPDATED Test Checklist (Current Features Only)
Last Updated: 2026-01-07 18:05

‚úÖ = VERIFIED FEATURE EXISTS IN CODE
‚ùå = REMOVED/DELETED FEATURE (won't test)

---

## CORE GAME MECHANICS
- [x] ‚úÖ ManualHarvesting (tap resources) - PASS
- [x] ‚úÖ Resource Regeneration (nodes refill over time) - PASS
- [x] ‚úÖ Money System (earning/spending) - PASS
- [x] ‚úÖ Inventory System (storing items) - PASS
- [ ] ‚úÖ Inventory Capacity Limits

## WORKER AUTOMATION
- [x] ‚úÖ Hire Workers ($500 + incremental cost) - PASS
- [x] ‚ö†Ô∏è Fire Workers (with confirmation) - WORKS but no confirmation (FIXING)
- [x] ‚ö†Ô∏è Auto-Harvesting (workers collect every 5 seconds) - WORKS but floating text position bug
- [x] ‚úÖ Multiple Workers Running Simultaneously - PASS
- [x] ‚úÖ Worker Cost Scaling - PASS

## PLOT SYSTEM
- [x] ‚úÖ Buy New Plots (unlock expansion) - PASS
- [x] ‚úÖ Resource Nodes on Plots - PASS
- [x] ‚úÖ Wild/Farm/Mine Resource Types (4 subplots per plot) - PASS

## BUILDING SYSTEM
- [x] ‚úÖ Open Build Modal (long-press/hold) - PASS (remItem bug fixed)
- [x] ‚úÖ Place Buildings on Plots - PASS (remItem bug fixed)
- [x] ‚úÖ Building Production - PASS
- [ ] ‚úÖ Upgrade Buildings (up to Lv5)
- [x] ‚úÖ Building Cost Display - PASS
- [ ] ‚úÖ Demolish Buildings (50% refund)
- [ ] ‚úÖ Storage Buildings (increase capacity)

## MARKET SYSTEMS

### Government Market (Sell Only)
- [x] ‚úÖ Sell Items to Government (at base price) - PASS
- [x] ‚úÖ Sell All Functionality - PASS

### Player Market (P2P Firebase)
- [x] ‚úÖ Post Sell Orders - PASS (tested with playerMarket.js module)
- [x] ‚úÖ Post Buy Orders - PASS
- [x] ‚úÖ Fill Other Players' Orders - PASS
- [x] ‚úÖ Cancel Own Orders - PASS
- [x] ‚úÖ View Active Market Orders - PASS
- [x] ‚úÖ Market Connection Status - PASS (Firebase connected)

### Limit Orders (Local Auto-Trade)
- [ ] ‚úÖ Create Limit Orders (UI exists in index.html)
- [ ] ‚úÖ Limit Order Execution (processes every 10 seconds in game loop)
- [ ] ‚úÖ Cancel Limit Orders
- [ ] ‚úÖ Limit Order Display

## SAVE/LOAD SYSTEM
- [x] ‚úÖ Auto-Save (every 30 seconds) - PASS
- [ ] ‚úÖ Manual Save (window.save())
- [x] ‚úÖ Load on Refresh (localStorage key: 'tt4') - PASS
- [x] ‚úÖ Cloud Save (when logged in via Firebase) - PASS (auto-saves to cloud)
- [x] ‚úÖ Cloud Load (when logged in) - PASS (with offline progress calculation!)
- [x] ‚úÖ Offline Progress Calculation (calculates up to 12 hours catch-up) - PASS
- [ ] ‚úÖ Save Migration (version 1‚Üí2 for cap fix)

### **OFFLINE PROGRESS TEST** ‚úÖ (NOW IMPLEMENTED - SHOULD PASS)
- [ ] **Step 1:** Hire at least 1 worker
- [ ] **Step 2:** Note current money, inventory count, and time
- [ ] **Step 3:** Close browser completely (not just tab)
- [ ] **Step 4:** Wait 60-120 seconds
- [ ] **Step 5:** Reopen game in fresh browser
- [ ] **Step 6:** Verify workers harvested during offline time
- [ ] **Step 7:** Verify resources regenerated during offline time
- [ ] **Step 8:** Calculate expected harvests (time / 5 seconds per worker)
- [ ] **Step 9:** Verify actual matches expected (¬±2 tolerance)
**Expected Result:** Should now show notification with caught-up harvests!
**Max Offline:** 12 hours (43,200 seconds)

## ACCOUNT SYSTEM
- [x] ‚úÖ Guest Mode (play without account) - PASS
- [x] ‚úÖ Register Account (Firebase) - PASS (creates cloud save)
- [x] ‚úÖ Login to Account - PASS (loads cloud save!)
- [ ] ‚úÖ Logout
- [x] ‚úÖ Account UI Display - PASS
- [x] ‚úÖ Cloud Sync Status - PASS

## MULTIPLAYER FEATURES

### Chat (Firebase)
- [x] ‚úÖ Open Chat - PASS
- [x] ‚úÖ Send Messages - PASS
- [ ] ‚úÖ Receive Messages (real-time) - Can't test alone
- [x] ‚úÖ Chat History - PASS
- [x] ‚úÖ Close Chat - PASS
- [x] ‚úÖ Connection Status - PASS

### Leaderboard (Firebase)
- [x] ‚ö†Ô∏è View Top 20 Players - Works but doesn't auto-update
- [ ] ‚úÖ Player Rankings by Money
- [x] ‚úÖ Open Leaderboard - PASS
- [ ] ‚úÖ Close Leaderboard
- [ ] ‚úÖ Not Connected State (guest)

## UI/NAVIGATION
- [x] ‚úÖ Home Screen - PASS
- [x] ‚úÖ Inventory Screen - PASS
- [x] ‚úÖ Workers Screen - PASS
- [x] ‚úÖ Market Screen (Player Market) - PASS
- [x] ‚úÖ Chat Screen - PASS
- [ ] ‚úÖ Navigation Active States (visual indicator of current tab)
- [x] ‚úÖ Screen Switching - PASS
- [x] ‚úÖ Stats Display (top bar) - PASS
- [x] ‚úÖ Money Display - PASS
- [x] ‚úÖ Inventory Count Display - PASS

## MENU SYSTEM
- [x] ‚úÖ Open Menu - PASS
- [x] ‚úÖ Close Menu - PASS
- [x] ‚úÖ Statistics Screen - PASS
- [x] ‚ö†Ô∏è Daily Rewards - Works but button doesn't update until close/reopen
- [x] ‚ö†Ô∏è Help Screen - Placeholder "more content coming soon"
- [ ] ‚úÖ Account Modal
- [x] ‚úÖ Leaderboard Access - PASS (but doesn't auto-refresh)
- [ ] ‚úÖ Settings

## SETTINGS
- [x] ‚úÖ Toggle Theme (Dark/Light) - PASS
- [ ] ‚úÖ Font Size Adjustment (Small/Medium/Large)
- [x] ‚úÖ Sound Toggle - PASS
- [ ] ‚úÖ Settings Persistence

## ACHIEVEMENTS & REWARDS
- [ ] ‚úÖ Achievement Tracking (checkAchievements runs every 15s)
- [ ] ‚úÖ Achievement Unlocking (automatic based on stats)
- [ ] ‚úÖ Achievement UI Display (shows in stats screen with progress)
- [ ] ‚úÖ Achievement Progress Tracking (calculates % to goal)
- [ ] ‚úÖ Daily Rewards System
- [ ] ‚úÖ Daily Streak Counter
- [ ] ‚úÖ Claim Daily Reward
- [ ] ‚úÖ Daily Reward Cooldown

## VISUAL/UX
- [ ] ‚úÖ Tooltips (resource hover - showTip function)
- [ ] ‚úÖ Toast Notifications (success/error)
- [ ] ‚úÖ Banner Notifications (notif function)
- [ ] ‚úÖ Floating Text (money earned animations)
- [ ] ‚úÖ Progress Bars (on resources)
- [ ] ‚úÖ Resource Icons Display
- [ ] ‚úÖ Sound Effects (playS function)
- [ ] ‚úÖ Background Music
- [ ] ‚úÖ Day/Night Cycle (changes background every minute based on time)

## GAME LOOP
- [x] ‚úÖ Update Loop Running (startGameLoop called in init)
- [x] ‚úÖ Worker Timer (uses while loop for catch-up)
- [x] ‚úÖ Resource Regeneration Loop (updatePlots called every frame)
- [x] ‚úÖ Auto-Save Timer (works via modular game loop)
- [x] ‚úÖ Limit Order Processing (calls processLimitOrders every 10s)
- [x] ‚úÖ Timestamp Tracking (S.lastUpdate for offline calculation)

## DATA PERSISTENCE
- [ ] ‚úÖ Farm Name
- [ ] ‚úÖ Farm Renaming ($1000 cost after first)
- [ ] ‚úÖ Tutorial Status
- [ ] ‚úÖ Achievement Progress (tracks progress toward unlocks)
- [ ] ‚úÖ Statistics (harvested, earned, sold, built)
- [ ] ‚úÖ Game Version Tracking

## MOBILE/PWA
- [ ] ‚úÖ Touch Controls
- [ ] ‚úÖ Long-Press Detection
- [ ] ‚úÖ PWA Installation (manifest.json)
- [ ] ‚ö†Ô∏è Service Worker Caching (FIX: cache.addAll error)
- [ ] ‚ö†Ô∏è Offline Functionality (FIX: after offline progress implemented)
- [ ] ‚úÖ Responsive Layout

## ERROR HANDLING
- [x] Check Console Errors - VERIFIED: Only expected warnings (password, meta tag, service worker)
- [ ] Graceful Connection Failures
- [ ] Save/Load Error Recovery
- [ ] Invalid Input Handling

---

## TESTING STATUS (2026-01-07 19:25):
**‚úÖ VERIFIED WORKING:**
- Game loads successfully
- All 37 modules load correctly
- Game loop and systems functioning
- Firebase connects successfully
- **Cloud save/load with offline progress working!**
- **52 features tested and passing** (46 + 6 cloud/account)

**üîß FIXED DURING TESTING:**
- updatePlots export missing from plots.js (FIXED)
- showConfetti import error in achievements.js (FIXED)  
- Browser caching issues (resolved with Ctrl+F5)
- remItem inventory string corruption bug (FIXED)
- **Cloud save/load implementation (FIXED)** - now properly saves/loads with offline progress

**‚ö†Ô∏è MINOR ISSUES FOUND:**
- Floating text appears in wrong location (cross-screen bug)
- Daily Rewards button doesn't update until modal close/reopen
- Leaderboard doesn't auto-refresh (manual refresh works)
- Help Screen is placeholder only
- Navigation Active States (tab highlighting) - not verified

**üìã REMAINING TESTS:**
- Player Market (post/fill/cancel orders)
- Limit Orders (create/execute/cancel)
- Manual save verification
- **Offline Progress Test** (60-120s test recommended)
- Logout functionality
- Achievements (unlocking verification)
- Upgrades & Demolishing
- Visual/UX features
- Data persistence

---

## FINAL COUNT:
- Total Features: ~70
- Verified Working: ~50
- Known Broken: ~10
- Removed/Never Implemented: ~10
